<html>
<head>
            <title>League Level 1 - Quiz</title>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://league-central.github.io/curriculum/style/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
        <style>
            #quiz {
                margin-left:50px;
            }
            #nav {
                margin-left:50px;
                position: relative;
            }
            #footer {
                position: absolute;
                bottom: -100;
                width: 100%;
            }
            button {background-color:yellow; border-radius: 3px; font-size: 125%;
            }
            code {font-size: 125%; color: forestgreen}
            pre{
                margin: 10 auto;
                width: 90%;
            }                        
        </style>
        <script src="https://league-central.github.io/curriculum/script/headerAndFooter.js"></script>
</head>
                 <div id="header">
                    <script>addRecipeHeader();</script>
                </div> 

    <h1>
        Level 1 Self-Test Quiz
	</h1>    
    
 <div id="quiz"></div>
<div id="nav">
    <div id="footer"></div>
</div>   
    
<script>

var totalQuestions;

var qDiv;
var navDiv;

var currentQuestion;
var questions = [];
var qIndex = 0;

var quizComplete = false;
var score = 0;

function Question(){
	this.type;
	this.number;
	this.question;
	this.choices = [];
	this.correctAnswers = [];
	this.userAnswers = [];
	this.isCorrect = false;
}

window.onload = function(){
	qDiv = document.getElementById('quiz');
	navDiv = document.getElementById('nav');
	buildQuiz();

	navDiv.innerHTML += "NAVIGATION:<br>";
	for(var i = 0; i < totalQuestions; i++){
		navDiv.innerHTML += "<button onclick='navigateTo("+i+")'>"+(i + 1)+"</button>";
	}
	navDiv.innerHTML += "<br><br>";
	navDiv.innerHTML += "<button onclick='submitQuiz()'>Submit Quiz</button><br>";

    addFooter();
}

    
function buildQuiz(){

const A = 0;
const B = 1;
const C = 2;
const D = 3;
const E = 4;  
    

    //Q1
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="FILL_IN"; 
questions[qIndex].question = " <pre>class Computer{<br>  String type;<br>  int ramInMB;<br>  public Computer(String type, int ramInMB){<br>    this.type = type;<br>    this.ramInMB = ramInMB;<br>  }<br>}</pre><br><br>Using the Computer class above, fill in the blank below to create a Computer object with a type of \"i386\" and 64 MB of ram.<br><br>Computer i386 = _________________________<br><br>";
questions[qIndex].correctAnswers = "new Computer(\"i386\",64);";
questions[qIndex].userAnswers = "";

    //Q2
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS";            
questions[qIndex].question = "How can you tell that a method is a constructor?<br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;It does not have public or private.";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;It always returns void.";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;It does not have a return type.";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;The name starts with either get or set.";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;It has the word new in the body of the method.";
questions[qIndex].correctAnswers = C;

    //Q3
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS"; 
questions[qIndex].question = "What is the return type of this method?<br><br><pre>public static void calcStats(int s, double f){<br>  //code goes here<br>}</pre><br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;public";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;String";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;static";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;int";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;void";
questions[qIndex].correctAnswers = E;

    //Q4
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "FILL_IN";
questions[qIndex].question = "When a new Game object is created, what is the value of h on line 7?<br><br><pre>1.&nbsp;&nbsp;&nbsp;public class Game {<br>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public Game(){<br>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setWindow(700, 450);<br>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>5.<br>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private setWindow(int w, int h){<br>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createGameWindow(w, h);<br>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>9.&nbsp;&nbsp;&nbsp;}</pre><br>";
questions[qIndex].correctAnswers= "450";
questions[qIndex].userAnswers = "";

    //Q5
qIndex=qIndex+1;      
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "FILL_IN";
questions[qIndex].question = "How many times will OUTPUT print after the following code executes?<br><br><pre>for(int i = 0; i &lt; 5; i++) {<br>&nbsp;&nbsp;&nbsp;for(int j = 0; j &lt; 5; j++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;OUTPUT&quot;);<br>&nbsp;&nbsp;&nbsp;}<br>}<br></pre>";
questions[qIndex].correctAnswers = "25";
questions[qIndex].userAnswers = "";

    //Q6
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "FILL_IN";
questions[qIndex].question = "<pre>Canvas backdrop = new Canvas(200, 150, 25, 0);</pre><br><br>How many parameters does the constructor for the Canvas class take?<br>";
questions[qIndex].correctAnswers = "4";
questions[qIndex].userAnswers = "";

    //Q7   
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "<pre>15 % 4 = ___</pre>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;0";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;1";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;3";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;4";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;3.75";
questions[qIndex].correctAnswers = C;

    //Q8       
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "<pre>public class Printer{<br>  public void print(){<br>    System.out.println(\"PRINTING\");<br>  }<br>}<br></pre><br>Using the Printer class above, what would be the output if the following code was executed inside the main method?<br><br><pre>Printer p;<br>for(int i = 0; i < 3; i++){<br>  p.print();<br>}</pre><br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;no output";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;PRINTING";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;PRINTING<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRINTING<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRINTING";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;an error would occur";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;PRINTINGPRINTINGPRINTING";
questions[qIndex].correctAnswers = D;
    
    //Q9
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "FILL_IN";
questions[qIndex].question = "How many times will the following loop run its code?<br><br><pre>for(int x = 25, y = 0; y &lt; x; y += 5){<br>  //code<br>}</pre>";
questions[qIndex].correctAnswers = "5";
questions[qIndex].userAnswers = "";

    //Q10
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS";  
questions[qIndex].question = "<pre>class Button{<br>  public void press(){<br>    new Button().press();<br>  }<br>}<br></pre><br>Using the Button class above, will the following line compile?<br><br><pre>Button b = new Button();<br>b.press();</pre>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;Yes";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;No";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;(don't choose this one)";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;(not likely to be this)";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;(did you even read the question?)";
questions[qIndex].correctAnswers = A;

    //Q11
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "Match the appropriate data types to their variables.<br><br><pre>___ w = -17;<br>___ x = 4.2565723484;<br>___ y = 'A';<br>___ z = true;</pre><br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;float w<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double x<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char y<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean z";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;int w<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double x<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char y<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean z ";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;int w<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double x<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String y<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean z";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;int w<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double x<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char y<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String z";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;int w<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float x<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String y<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean z";
questions[qIndex].correctAnswers = B;    

    //Q12    
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "<pre>public class AnimationPanel extends Panel{<br><br>}<br></pre><br>What does adding \"extends Panel\" do for the AnimationPanel class?<br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;It makes it so that AnimationPanel requires more typing to complete its tasks. ";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;It gives the AnimationPanel class access to all of the methods and member variables of the Panel class.";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;nothing";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;It would cause an error.";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;It makes it so that any object of the AnimationPanel class can be used in the same way as an object of the Panel class.";
questions[qIndex].correctAnswers = E;

    //Q13
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="FILL_IN"; 
questions[qIndex].question = "How many objects of the Random class are created when the following code executes?<br><br><pre>for(int i = 0; i &lt; 10; i++){<br>  if(i % 3 == 0){<br>    Random r = new Random();<br>  }<br>}</pre><br>";
questions[qIndex].correctAnswers = "4";
questions[qIndex].userAnswers = "";

    //Q14
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type=  "SING_ANS"; 
questions[qIndex].question = "What is the value of copy after the following code executes?<br><br><pre>String original = \"STRING\";<br>String copy = \"\";<br><br>for(int i = original.length() - 1; i &gt;= 0; i--){<br>  copy += original.charAt(i);<br>}</pre><br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;STRING";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;(blank string)";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;STRINGSTRING";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;GNIRTS";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;SGTNRI";
questions[qIndex].correctAnswers = D;

    //Q15
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "Which Java keyword is required to call a constructor?<br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;return";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;new";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;final";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;int";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;void";
questions[qIndex].correctAnswers = B;

    //Q16
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "What are the values of h1 and h2 after this code executes?<br><br><pre>int h1 = 70;<br>int h2 = 72;<br><br>if(h1 &lt; h2){<br>  int t = h2;<br>  h2 = h1;<br>  h1 = t;<br>}</pre>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;h1 = 72;&nbsp;&nbsp;&nbsp;&nbsp;h2 = 70;";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;h1 = 70;&nbsp;&nbsp;&nbsp;h2 = 72;";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;h1 = 72;&nbsp;&nbsp;&nbsp;h2 = 72;";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;h1 = 70;&nbsp;&nbsp;&nbsp;h2 = 70;";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;h1 = 0;&nbsp;&nbsp;&nbsp;h2 = 0;";
questions[qIndex].correctAnswers = A;

    //Q17
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "Which direction will the rectangle move when the following Processing sketch is running?<br><br><pre>int x = 250;<br>int y = 250;<br><br>void setup(){<br>  size(500, 500);<br>}<br><br>void draw(){<br>  rect(x++, y++, 200, 200);<br>}<br></pre><br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;up and to the left";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;down and to the left";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;up and to the right";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;down and to the right";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;It will not move.";
questions[qIndex].correctAnswers = D;

    //Q18
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "SING_ANS"; 
questions[qIndex].question = "What is the value of x after the following code executes?<br><br><pre>public class MyProgram{<br>&nbsp;&nbsp;&nbsp;public static void main(String[] args){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int x = startup(-4);<br>&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;static int startup(int v){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return v % 4;<br>&nbsp;&nbsp;&nbsp;}<br>}</pre><br>";
questions[qIndex].choices[0] = "&nbsp;&nbsp;&nbsp;0";
questions[qIndex].choices[1] = "&nbsp;&nbsp;&nbsp;1";
questions[qIndex].choices[2] = "&nbsp;&nbsp;&nbsp;2";
questions[qIndex].choices[3] = "&nbsp;&nbsp;&nbsp;3";
questions[qIndex].choices[4] = "&nbsp;&nbsp;&nbsp;4";
questions[qIndex].correctAnswers = A;

    //Q19
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="FILL_IN"; 
questions[qIndex].question = "What is printed when the following code executes?<br><br><pre>String code = \"8675309\";<br>System.out.println(code.length());<br></pre><br>";
questions[qIndex].correctAnswers = "7";
questions[qIndex].userAnswers = "";

    //Q20
qIndex=qIndex+1;  
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type= "FILL_IN"; 
questions[qIndex].question = "What is printed when the following code executes?<br><br><pre>String s1 = \"SUBWAY\";<br>String s2 = s1.substring(0, 3);<br>System.out.println(s2);<br></pre><br>";
questions[qIndex].correctAnswers = "SUB";
questions[qIndex].userAnswers = "";
    

	totalQuestions = qIndex+1;
	currentQuestion = questions[0];
	displayQuestion();
  }
  
function displayQuestion(){
	qDiv.innerHTML = "Question " + currentQuestion.number + ":<br><br>";
	qDiv.innerHTML += currentQuestion.question + "<br>";
	if(currentQuestion.type == "MULT_ANS"){
		qDiv.innerHTML += "<br>	(choose all that apply)<br>";

		for(var i = 0; i < currentQuestion.choices.length; i++){
            qDiv.innerHTML += "&nbsp;" + numToChar(i) + ":&nbsp;&nbsp;";
			if(currentQuestion.userAnswers.includes(i)){
				qDiv.innerHTML += "<input type='checkbox' checked></input>";
			}else{
				qDiv.innerHTML += "<input type='checkbox'></input>";
			}


			qDiv.innerHTML += currentQuestion.choices[i] + "<br>";

		}

		if(quizComplete){
			qDiv.innerHTML += "<b>Correct Answer:</b><br>";
			for(var j = 0; j < currentQuestion.correctAnswers.length; j++){
				qDiv.innerHTML += currentQuestion.choices[currentQuestion.correctAnswers[j]] + "<br><br>";
			}
			qDiv.innerHTML += "<b>Your Answer:</b><br>";
			for(var j = 0; j < currentQuestion.userAnswers.length; j++){
				qDiv.innerHTML += currentQuestion.choices[currentQuestion.userAnswers[j]] + "<br><br>";
			}
		}

	}else if(currentQuestion.type == "SING_ANS"){

		for(var i = 0; i < currentQuestion.choices.length; i++){
			qDiv.innerHTML += numToChar(i) + ":&nbsp;&nbsp;";

			if(currentQuestion.userAnswers == i){
				qDiv.innerHTML += "<input type='radio' name='q"+currentQuestion.number+"' checked></input>";
			}else{
				qDiv.innerHTML += "<input type='radio' name='q"+currentQuestion.number+"'></input>";
			}
			qDiv.innerHTML += currentQuestion.choices[i] + "<br>";

		}

		if(quizComplete){
			qDiv.innerHTML += "<b>Correct Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.choices[currentQuestion.correctAnswers] + "<br><br>";

			qDiv.innerHTML += "<b>Your Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.choices[currentQuestion.userAnswers] + "<br><br>";
		}
	}else if(currentQuestion.type == "FILL_IN"){
		qDiv.innerHTML += "<textarea rows='7' cols='60'>"+currentQuestion.userAnswers+"</textarea>";
		if(quizComplete){
			qDiv.innerHTML += "<br><b>Correct Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.correctAnswers + "<br><br>";

			qDiv.innerHTML += "<b>Your Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.userAnswers + "<br><br>";
		}
	}
	qDiv.innerHTML += "<br>";

	if(currentQuestion.number != 1){
		qDiv.innerHTML += "<button onclick='previousQuestion()'>Previous Question</button>";
	}
    if (currentQuestion.number >1 && currentQuestion.number < questions.length) {
        qDiv.innerHTML += "&nbsp;&nbsp;&nbsp;&nbsp;"
    }
    if(currentQuestion.number != questions.length){
		qDiv.innerHTML += "<button onclick='nextQuestion()'>Next Question</button>";
	}

	qDiv.innerHTML += "<hr size='3'>";
}

function submitQuiz(){
	if(quizComplete) return;
	if(!confirm("Are you sure you want to submit your quiz for grading?")) return;
	quizComplete = true;
	saveQuestionState();

	scoreQuiz();
	highlightButtons();

	currentQuestion = questions[0];
	displayQuestion();
}

function specialParseStr(str){
	var nstr = "";
	for(var i = 0; i < str.length; i++){
		var c = str.charAt(i);
		if(c == '\"'){
			nstr += "&quot;";
		}else if(c == '<'){
			nstr += "&lt;";
		}else if(c == '\n' || c == ' '){

		}else{
			nstr += c;
		}
	}
	return nstr.trim();
}

function scoreQuiz(){
	for(var i = 0; i < questions.length; i++){
		if(questions[i].type == "MULT_ANS"){
			var ca = compareArray(questions[i].correctAnswers, questions[i].userAnswers);
			questions[i].isCorrect = ca;
			if(ca) score++;
		}else if(questions[i].type == "SING_ANS"){
			if(questions[i].correctAnswers == questions[i].userAnswers){
				questions[i].isCorrect = true;
				score++;
			}
		}else if(questions[i].type == "FILL_IN"){
			if(specialParseStr(questions[i].correctAnswers) == specialParseStr(questions[i].userAnswers)){
				questions[i].isCorrect = true;
				score++;
			}
		}
	}

	score /= totalQuestions;
	score *= 100;

	var hdr = document.getElementById("header");
	hdr.innerHTML += "<center><h1><b>Score: "+score.toFixed(2)+"%</b></h1></center>";
}

function nextQuestion(){
	saveQuestionState();
	currentQuestion = questions[currentQuestion.number];
	displayQuestion();
}

function previousQuestion(){
	saveQuestionState();
	currentQuestion = questions[currentQuestion.number - 2];
	displayQuestion();
}

function navigateTo(i){
	saveQuestionState();
	currentQuestion = questions[i];
	displayQuestion();
}

function highlightButtons(){
	var btns = navDiv.getElementsByTagName("button");
	for(var i = 0; i < questions.length; i++){
		if(questions[i].isCorrect){
			btns[i].style="background-color:green";
		}else{
			btns[i].style="background-color:red";
		}
	}
}

function saveQuestionState(){
	if(currentQuestion.type == "MULT_ANS"){
		currentQuestion.userAnswers = [];
		var cbx = qDiv.getElementsByTagName("input");
		for(var i = 0; i < cbx.length; i++){
			if(cbx[i].checked){
				currentQuestion.userAnswers.push(i);
			}
		}
	}else if(currentQuestion.type == "SING_ANS"){
		currentQuestion.userAnswers = [];
		var cbx = qDiv.getElementsByTagName("input");
		for(var i = 0; i < cbx.length; i++){
			if(cbx[i].checked){
				currentQuestion.userAnswers = i;
			}
		}
	}else if(currentQuestion.type == "FILL_IN"){
		var tbx = qDiv.getElementsByTagName("textarea");
		currentQuestion.userAnswers = tbx[0].value;
	}
}

function numToChar(num){
	return String.fromCharCode("A".charCodeAt(0) + num);
}

function compareArray(arr1, arr2){
	if(arr1.length != arr2.length){
		return false;
	}

	for(var i = 0; i < arr1.length; i++){
		if(arr1[i] != arr2[i]){
			return false;
		}
	}

	return true;
}

</script>

  
  </html>
